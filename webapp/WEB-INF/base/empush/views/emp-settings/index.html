
<div class="fields">
	<form>
		
		<h2>Push Server Setup</h2>
		
		<label>[[IP]]</label>
		<input class="field short" name="push_server_url" value ="$mediaarchive.getCatalogSettingValue("push_server_url")" />
		<div class="note">[[Input the IP of the EnterMedia server to which you wish to upload.]]</div>
		
		<label>[[Username]]</label>
		#set( $userid = $mediaarchive.getCatalogSettingValue("push_server_username") )
		<input class="field" style="width: 225px;" name="push_server_username" value ="$userid" />
		
		<a class="btn" href="$home$apphome/views/settings/users/usermanager/user/index.html?username=$userid" >Edit User</a>
		
		<label>[[Target Catalog Id]]</label>
		<input class="field short" name="push_target_catalogid" value ="$mediaarchive.getCatalogSettingValue("push_target_catalogid")" />
		<div class="note">[[The ID of the catalog you want to push to.]]</div>

		<div style="margin: 10px 0 0 197px;">
		<input type="button" class="btn" value="Test Connection" />
		</div>
		
	</form>
	
	
	
	
	<div class="hr"></div>
	
	<form>
		
		<h2>Automatic Pushing</h2>

		#set( $switch = $mediaarchive.getCatalogSettingValue("push_autopush") )
		<div class="switch #if( $switch == "true")on #end"></div>
		
		<div class="note">[[Automatically add new assets to queue to be pushed.]]</div>
		<!-- hide if auto is off 
		<div id="autotimes" style="display: none;">
			<label>[[Push Between]]</label>
					
			<input class="field vshort" name="between1" value ="" />
			<span class="field-connector">And</span>
			<input class="field vshort" name="between2" value ="" />
			<div class="note">[[Enter the hours between which you would like the uploads to take place.]]</div>
	
		</div>
		
		-->
	</form>
	
	<div class="hr"></div>

		<h2>Push Formats</h2>
	
		<input type="hidden" value="convertpreset" name="field">
		<div id="allnone">
##			(<a href="javascript:selectall('publishdestinationcheckbox')">all</a><a href="javascript:selectnone('publishdestinationcheckbox')">none</a>)
		</div>

<table>
	<tr>
	#set( $lsearcher = $searcherManager.getSearcher($catalogid,"convertpreset"))
	#set ($query = $lsearcher.createSearchQuery())
	#set ($o = $query.addMatches("id", "*"))
	$query.setSortBy("ordering")

	#set( $types = $lsearcher.search($query) )
	
	#foreach( $type in $types )
		#set( $key = $type.id)
			<td>
	  	<input type="checkbox" class="${searchtype}checkbox" name="${detail.id}.value" value="$key"
	    #if ($checked.contains($key)) checked #end >
		$type
	</td> 
	#if ($velocityCount % 4 == 0) </tr> <tr> #end	    		
#end
</tr>
</table>

		<a class="btn" href="$home$apphome/views/settings/applicationsetup/lists/transcoding/index.html" >Edit Presets</a>

	<input type="button" class="btn" style="margin-top: 15px" value="Save" /> 
</div>

<script>

	$('.switch').click(function(){
		if ( $(this).hasClass('on') ) {
			$(this).removeClass('on');
			$('#autotimes').show();
		} else {
			$(this).addClass('on');
			$('#autotimes').hide();
		}	
	});

</script>
